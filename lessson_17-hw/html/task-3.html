<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Task-3</title>
      <link rel="stylesheet" href="../css/style.css" />
   </head>

   <body>
      <div class="wrapper">
         <div class="block__container">
            <h3 class="title">Задача 3</h3>
            <p>
               3. Створити клас Нагадувач. Кожні вказані кількості секунд (використати setInterval) програма нагадує про
               якусь подію (це просто текст) і також виводиться порядковий номер скільки раз вже нагадування було.
               Зробити так, щоб неможна було зробити одночасно декілька об’єктів-нагадувачів. Методи зупинки таймера,
               метод зміни повідомлення без зупинки таймера.
            </p>

            <script>
               class Reminder {
                  static reminderRef
                  static msgCounter = 0
                  static timerId
                  static #message
                  constructor(interval, message) {
                     if (Reminder.eminderRef) {
                        return Reminder.reminderRef
                     } else {
                        Reminder.interval = interval
                        Reminder.Message = message

                        Reminder.reminderRef = this
                     }
                  }
                  static get Message() {
                     return Reminder.#message
                  }
                  static set Message(newMsg) {
                     if (newMsg.length > 0) {
                        Reminder.#message = newMsg
                     } else {
                        throw new Error('Message too short')
                     }
                  }
                  static start() {
                     Reminder.timerId = setInterval(() => {
                        ++Reminder.msgCounter
                        console.log(`${Reminder.#message} ${Reminder.msgCounter}`)
                     }, this.interval * 1000)
                  }
                  static stop() {
                     clearInterval(Reminder.timerId)
                  }
                  static changeMessage(newMessage) {
                     Reminder.Message = newMessage
                  }
                  toString() {
                     return `Current reminder message: ${Reminder.#message}, interval = ${Reminder.interva}`
                  }
               }
               const test = new Reminder(3, 'Hello world')
               // Reminder.start()
               // setTimeout(() => {
               //    Reminder.changeMessage('Hello Hello')
               // }, 5000)
               // Reminder.changeMessage('Hello Hello')
               // Reminder.stop()
            </script>
         </div>
      </div>
   </body>
</html>
